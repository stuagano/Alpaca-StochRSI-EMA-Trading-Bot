<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Platform - Navigation Hub</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: #ffffff;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
        }

        .nav-header {
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            border-bottom: 2px solid #00ff88;
            padding: 30px 0;
            margin-bottom: 40px;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .service-card {
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
            border: 1px solid #333;
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .service-card:hover {
            border-color: #00ff88;
            box-shadow: 0 8px 32px rgba(0, 255, 136, 0.2);
            transform: translateY(-5px);
            color: inherit;
            text-decoration: none;
        }

        .service-icon {
            font-size: 48px;
            margin-bottom: 15px;
            display: block;
        }

        .service-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #00ff88;
        }

        .service-description {
            color: #aaa;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .service-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-live {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
            border: 1px solid #00ff88;
        }

        .status-microservice {
            background: rgba(33, 150, 243, 0.2);
            color: #2196F3;
            border: 1px solid #2196F3;
        }

        .status-legacy {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border: 1px solid #ffc107;
        }

        .status-new {
            background: rgba(156, 39, 176, 0.2);
            color: #9c27b0;
            border: 1px solid #9c27b0;
        }

        .port-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #2a2a2a;
            color: #888;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-family: monospace;
        }

        .section-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #333;
            color: #00ff88;
        }

        .quick-actions {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .action-btn {
            background: linear-gradient(135deg, #00ff88, #00cc66);
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .action-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 16px rgba(0, 255, 136, 0.3);
            color: #000;
        }

        .microservices-health {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .health-indicator {
            display: flex;
            align-items: center;
            padding: 5px 10px;
            background: #0f0f0f;
            border: 1px solid #333;
            border-radius: 6px;
            font-size: 12px;
        }

        .health-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 6px;
        }

        .health-online { background: #00ff88; }
        .health-offline { background: #ff4444; }
        .health-pending { background: #ffc107; }
    </style>
</head>
<body>
    <div class="nav-header">
        <div class="nav-container">
            <h1><i class="bi bi-diagram-3-fill"></i> Trading Platform Navigation Hub</h1>
            <p class="mb-0 mt-2">Comprehensive access to all trading services and dashboards</p>
        </div>
    </div>

    <div class="nav-container">
        <!-- Quick Actions -->
        <div class="quick-actions">
            <h5 class="mb-3">Quick Actions</h5>
            <a href="http://localhost:9100" class="action-btn" target="_blank">
                <i class="bi bi-grid-3x3-gap"></i> Main Platform
            </a>
            <a href="http://localhost:9011/docs" class="action-btn" target="_blank">
                <i class="bi bi-book"></i> Training API Docs
            </a>
            <a href="http://localhost:9000/docs" class="action-btn" target="_blank">
                <i class="bi bi-server"></i> API Gateway Docs
            </a>
            <button class="action-btn" onclick="checkAllServices()">
                <i class="bi bi-heart-pulse"></i> Health Check
            </button>
        </div>

        <!-- Primary Services -->
        <div class="section-title">Primary Services</div>
        <div class="service-grid">
            <!-- Training Service -->
            <a href="unified_dashboard_with_training.html" class="service-card" style="position: relative;">
                <span class="port-badge">:9011</span>
                <span class="service-icon">üéØ</span>
                <div class="service-title">AI Training Platform</div>
                <div class="service-description">
                    Collaborative human-AI trading strategy development with backtesting, 
                    real-time analysis, and learning scenarios
                </div>
                <span class="service-status status-new">NEW</span>
                <span class="service-status status-microservice ms-2">Microservice</span>
            </a>

            <!-- Main Frontend Portal -->
            <a href="http://localhost:9100" class="service-card" style="position: relative;" target="_blank">
                <span class="port-badge">:9100</span>
                <span class="service-icon">üé®</span>
                <div class="service-title">Main Trading Platform</div>
                <div class="service-description">
                    Modern React frontend with real-time trading, charting, 
                    and portfolio management
                </div>
                <span class="service-status status-live">PRIMARY</span>
                <span class="service-status status-microservice ms-2">Frontend</span>
            </a>

            <!-- Live Trading Features -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">Via 9100</span>
                <span class="service-icon">üìä</span>
                <div class="service-title">Live Trading Dashboard</div>
                <div class="service-description">
                    Real-time market data, positions, and automated trading with 
                    StochRSI and volume confirmation
                </div>
                <span class="service-status status-live">LIVE</span>
            </div>

            <!-- Enhanced Charting -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">Via 9100</span>
                <span class="service-icon">üìà</span>
                <div class="service-title">Advanced Charting</div>
                <div class="service-description">
                    Lightweight Charts integration, technical indicators, 
                    and comprehensive analytics
                </div>
                <span class="service-status status-live">LIVE</span>
            </div>

            <!-- Backtesting Features -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">Via 9100</span>
                <span class="service-icon">üß™</span>
                <div class="service-title">Backtesting Suite</div>
                <div class="service-description">
                    Historical strategy testing, performance analysis, and 
                    optimization tools
                </div>
                <span class="service-status status-live">INTEGRATED</span>
            </div>
        </div>

        <!-- Microservices -->
        <div class="section-title">Microservices Architecture (Ports 9000-9100)</div>
        <div class="service-grid">
            <!-- API Gateway -->
            <a href="http://localhost:9000" class="service-card" style="position: relative;" target="_blank">
                <span class="port-badge">:9000</span>
                <span class="service-icon">üåê</span>
                <div class="service-title">API Gateway</div>
                <div class="service-description">
                    Central routing, authentication, and request management
                </div>
                <span class="service-status status-microservice">Core Service</span>
            </a>

            <!-- Position Management -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">:9001</span>
                <span class="service-icon">üíº</span>
                <div class="service-title">Position Management</div>
                <div class="service-description">
                    Portfolio tracking, position sizing, and P&L calculations
                </div>
                <span class="service-status status-microservice">Microservice</span>
            </div>

            <!-- Trading Execution -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">:9002</span>
                <span class="service-icon">‚ö°</span>
                <div class="service-title">Trading Execution</div>
                <div class="service-description">
                    Alpaca API integration, order execution, and trade management
                </div>
                <span class="service-status status-microservice">Microservice</span>
            </div>

            <!-- Signal Processing -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">:9003</span>
                <span class="service-icon">üì°</span>
                <div class="service-title">Signal Processing</div>
                <div class="service-description">
                    Technical indicators, signal generation, and analysis
                </div>
                <span class="service-status status-microservice">Microservice</span>
            </div>

            <!-- Risk Management -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">:9004</span>
                <span class="service-icon">üõ°Ô∏è</span>
                <div class="service-title">Risk Management</div>
                <div class="service-description">
                    Risk assessment, stop-loss management, and exposure control
                </div>
                <span class="service-status status-microservice">Microservice</span>
            </div>

            <!-- Market Data -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">:9005</span>
                <span class="service-icon">üìà</span>
                <div class="service-title">Market Data</div>
                <div class="service-description">
                    Real-time market feeds, price updates, and data aggregation
                </div>
                <span class="service-status status-microservice">Microservice</span>
            </div>

            <!-- Historical Data -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">:9006</span>
                <span class="service-icon">üìö</span>
                <div class="service-title">Historical Data</div>
                <div class="service-description">
                    Historical price data, storage, and retrieval
                </div>
                <span class="service-status status-microservice">Microservice</span>
            </div>

            <!-- Analytics -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">:9007</span>
                <span class="service-icon">üìä</span>
                <div class="service-title">Analytics</div>
                <div class="service-description">
                    Performance metrics, reporting, and insights
                </div>
                <span class="service-status status-microservice">Microservice</span>
            </div>

            <!-- Notification -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">:9008</span>
                <span class="service-icon">üîî</span>
                <div class="service-title">Notification</div>
                <div class="service-description">
                    Alerts, email notifications, and messaging
                </div>
                <span class="service-status status-microservice">Microservice</span>
            </div>

            <!-- Configuration -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">:9009</span>
                <span class="service-icon">‚öôÔ∏è</span>
                <div class="service-title">Configuration</div>
                <div class="service-description">
                    System settings, strategy parameters, and preferences
                </div>
                <span class="service-status status-microservice">Microservice</span>
            </div>

            <!-- Health Monitor -->
            <div class="service-card" style="position: relative;">
                <span class="port-badge">:9010</span>
                <span class="service-icon">üíö</span>
                <div class="service-title">Health Monitor</div>
                <div class="service-description">
                    Service health checks, monitoring, and diagnostics
                </div>
                <span class="service-status status-microservice">Microservice</span>
            </div>

            <!-- Frontend -->
            <a href="http://localhost:9100" class="service-card" style="position: relative;" target="_blank">
                <span class="port-badge">:9100</span>
                <span class="service-icon">üé®</span>
                <div class="service-title">Frontend Service</div>
                <div class="service-description">
                    Modern React frontend with real-time updates
                </div>
                <span class="service-status status-microservice">UI Service</span>
            </a>
        </div>

        <!-- Service Health Status -->
        <div class="section-title">Service Health Status</div>
        <div class="quick-actions">
            <div id="healthStatus">
                <p>Click "Health Check" above to check all services</p>
            </div>
            <div class="microservices-health" id="servicesHealth"></div>
        </div>
    </div>

    <script>
        // Service endpoints for health checks
        const services = [
            { name: 'API Gateway', port: 9000, endpoint: '/health' },
            { name: 'Position Mgmt', port: 9001, endpoint: '/health' },
            { name: 'Trading Exec', port: 9002, endpoint: '/health' },
            { name: 'Signal Proc', port: 9003, endpoint: '/health' },
            { name: 'Risk Mgmt', port: 9004, endpoint: '/health' },
            { name: 'Market Data', port: 9005, endpoint: '/health' },
            { name: 'Historical', port: 9006, endpoint: '/health' },
            { name: 'Analytics', port: 9007, endpoint: '/health' },
            { name: 'Notification', port: 9008, endpoint: '/health' },
            { name: 'Configuration', port: 9009, endpoint: '/health' },
            { name: 'Health Monitor', port: 9010, endpoint: '/health' },
            { name: 'Training AI', port: 9011, endpoint: '/health' },
            { name: 'Frontend', port: 9100, endpoint: '/' }
        ];

        async function checkAllServices() {
            const healthDiv = document.getElementById('servicesHealth');
            healthDiv.innerHTML = '<p class="mb-2">Checking services...</p>';
            
            const results = [];
            
            for (const service of services) {
                const healthIndicator = document.createElement('div');
                healthIndicator.className = 'health-indicator';
                
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 2000);
                    
                    const response = await fetch(`http://localhost:${service.port}${service.endpoint}`, {
                        signal: controller.signal,
                        mode: 'no-cors' // Allow checking without CORS
                    });
                    
                    clearTimeout(timeoutId);
                    
                    // If we get here without error, service is likely running
                    healthIndicator.innerHTML = `
                        <span class="health-dot health-online"></span>
                        ${service.name} (:${service.port})
                    `;
                    results.push({ service: service.name, status: 'online' });
                } catch (error) {
                    // Service is not responding
                    healthIndicator.innerHTML = `
                        <span class="health-dot health-offline"></span>
                        ${service.name} (:${service.port})
                    `;
                    results.push({ service: service.name, status: 'offline' });
                }
                
                healthDiv.appendChild(healthIndicator);
            }
            
            // Update summary
            const onlineCount = results.filter(r => r.status === 'online').length;
            document.getElementById('healthStatus').innerHTML = `
                <p class="mb-0">
                    <strong>${onlineCount}/${services.length}</strong> services online
                    ${onlineCount === services.length ? 
                        '<span class="badge bg-success ms-2">All Systems Operational</span>' : 
                        '<span class="badge bg-warning ms-2">Some Services Offline</span>'}
                </p>
            `;
        }

        // Check services on page load
        window.addEventListener('load', () => {
            // Optional: Auto-check health on load
            // checkAllServices();
        });
    </script>
</body>
</html>