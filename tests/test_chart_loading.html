<!DOCTYPE html>
<html>
<head>
    <title>Chart Library Test</title>
    <script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
    <h1>Testing Lightweight Charts Library</h1>
    <div id="chart" style="width: 600px; height: 400px; border: 1px solid #ccc;"></div>
    <div id="status"></div>
    
    <script>
        const statusDiv = document.getElementById('status');
        
        // Test if library is loaded
        if (typeof LightweightCharts !== 'undefined') {
            statusDiv.innerHTML = '<p style="color: green;">✅ LightweightCharts library loaded successfully!</p>';
            
            try {
                // Try to create a chart
                const chart = LightweightCharts.createChart(document.getElementById('chart'), {
                    width: 600,
                    height: 400,
                    layout: {
                        background: { color: '#ffffff' },
                        textColor: '#333',
                    },
                    grid: {
                        vertLines: { color: '#e0e0e0' },
                        horzLines: { color: '#e0e0e0' },
                    }
                });
                
                // Add a candlestick series
                const candlestickSeries = chart.addCandlestickSeries();
                
                // Add sample data
                const data = [
                    { time: '2024-01-01', open: 100, high: 110, low: 95, close: 105 },
                    { time: '2024-01-02', open: 105, high: 115, low: 100, close: 110 },
                    { time: '2024-01-03', open: 110, high: 120, low: 105, close: 115 },
                ];
                
                candlestickSeries.setData(data);
                
                statusDiv.innerHTML += '<p style="color: green;">✅ Chart created successfully!</p>';
                statusDiv.innerHTML += '<p style="color: green;">✅ addCandlestickSeries method works!</p>';
                
            } catch (error) {
                statusDiv.innerHTML += '<p style="color: red;">❌ Error creating chart: ' + error.message + '</p>';
            }
        } else {
            statusDiv.innerHTML = '<p style="color: red;">❌ LightweightCharts library NOT loaded!</p>';
        }
    </script>
</body>
</html>